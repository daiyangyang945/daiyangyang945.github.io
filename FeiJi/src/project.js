require=function e(t,i,n){function o(c,a){if(!i[c]){if(!t[c]){var h="function"==typeof require&&require;if(!a&&h)return h(c,!0);if(s)return s(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[c]={exports:{}};t[c][0].call(d.exports,function(e){var i=t[c][1][e];return o(i?i:e)},d,d.exports,e,t,i,n)}return i[c].exports}for(var s="function"==typeof require&&require,c=0;c<n.length;c++)o(n[c]);return o}({Bullet1:[function(e,t,i){"use strict";cc._RFpush(t,"88309qYnr9ARpG3qyzJP+VQ","Bullet1"),cc.Class({"extends":cc.Component,properties:{ySpeed:0,bulletAudio:cc.AudioClip},init:function(e){this.game=e,cc.audioEngine.play(this.bulletAudio)},onCollisionEnter:function(e,t){10!=e.tag&&20!=e.tag&&30!=e.tag||this.game.bulletManager.desBullet1(this.node)},update:function(e){this.node.y+=this.ySpeed*e}}),cc._RFpop()},{}],Bullet2:[function(e,t,i){"use strict";cc._RFpush(t,"55809n+2apJmYpJD8r6sGzj","Bullet2"),cc.Class({"extends":cc.Component,properties:{ySpeed:0},init:function(e){this.game=e},onCollisionEnter:function(e,t){10!=e.tag&&20!=e.tag&&30!=e.tag||this.game.bulletManager.desBullet2(this.node)},update:function(e){this.node.y+=this.ySpeed*e}}),cc._RFpop()},{}],BulletManager:[function(e,t,i){"use strict";cc._RFpush(t,"dc6b9mh9ZFBjo6kqqO9qJGG","BulletManager"),cc.Class({"extends":cc.Component,properties:{bullet1:cc.Prefab,bullet2:cc.Prefab,hero:cc.Node},init:function(e){this.game=e,this.bullet1Pool=new cc.NodePool,this.bullet2Pool=new cc.NodePool,cc.director.getScheduler().schedule(this.createBullet1,this,.15,cc.macro.REPEAT_FOREVER,!1)},createBullet1:function(){var e=null;e=0==this.bullet1Pool.size()?cc.instantiate(this.bullet1):this.bullet1Pool.get(),e.x=this.hero.x,e.y=this.hero.y+this.hero.height/2,e.getComponent("Bullet1").init(this.game),this.node.addChild(e)},createBullet2:function(){var e=null,t=null;this.bullet2Pool.size()<2?(e=cc.instantiate(this.bullet2),t=cc.instantiate(this.bullet2)):(e=this.bullet2Pool.get(),t=this.bullet2Pool.get()),e.x=this.hero.x-this.hero.width/4,e.y=this.hero.y+this.hero.height/2,t.x=this.hero.x+this.hero.width/4,t.y=this.hero.y+this.hero.height/2,e.getComponent("Bullet2").init(this.game),t.getComponent("Bullet2").init(this.game),this.node.addChild(e),this.node.addChild(t)},cancelShoot1:function(){this.unschedule(this.createBullet1)},desBullet1:function(e){this.bullet1Pool.put(e)},desBullet2:function(e){this.bullet2Pool.put(e)},onCollisionEnter:function(e,t){100==e.tag?this.desBullet1(e.node):200==e.tag&&this.desBullet2(e.node)}}),cc._RFpop()},{}],Enemy1:[function(e,t,i){"use strict";cc._RFpush(t,"2b130ZiPUNIb5OUxegBEIMt","Enemy1");var n=cc.Enum({NONE:0,NORMAL:1,DEAD:2});cc.Class({"extends":cc.Component,properties:{blood:0,ySpeed:0,state:{"default":n.NONE,type:n,visible:!1},downAudio:cc.AudioClip},init:function(e){this.game=e,this.state=n.NORMAL,this.anim=this.getComponent(cc.Animation)},onCollisionEnter:function(e,t){if((200==e.tag||100==e.tag)&&(this.blood=this.blood-5,0==this.blood)){var i=parseInt(this.game.scoreLabel.string);i+=10,this.game.scoreLabel.string=""+i,this.getComponent(cc.BoxCollider).enabled=!1,this.state=n.DEAD,this.blood=10,this.anim.playAdditive("downAnimation1"),cc.audioEngine.play(this.downAudio);var o=function(){this.node.destroy()};this.scheduleOnce(o,.51)}},update:function(e){this.state==n.NORMAL&&(this.node.y-=this.ySpeed*e)}}),cc._RFpop()},{}],Enemy2:[function(e,t,i){"use strict";cc._RFpush(t,"47911aXXQtJK4LppHqGRNQx","Enemy2");var n=cc.Enum({NONE:0,NORMAL:1,DEAD:2});cc.Class({"extends":cc.Component,properties:{blood:0,ySpeed:0,state:{"default":n.NONE,type:n,visible:!1},downAudio:cc.AudioClip},init:function(e){this.game=e,this.state=n.NORMAL,this.anim=this.getComponent(cc.Animation)},onCollisionEnter:function(e,t){if((200==e.tag||100==e.tag)&&(this.blood=this.blood-5,0==this.blood)){var i=parseInt(this.game.scoreLabel.string);i+=50,this.game.scoreLabel.string=""+i,this.getComponent(cc.BoxCollider).enabled=!1,this.state=n.DEAD,this.blood=50,this.anim.playAdditive("downAnimation2"),cc.audioEngine.play(this.downAudio);var o=function(){this.node.destroy()};this.scheduleOnce(o,1.03)}},update:function(e){this.state==n.NORMAL&&(this.node.y-=this.ySpeed*e)}}),cc._RFpop()},{}],Enemy3:[function(e,t,i){"use strict";cc._RFpush(t,"abc9e+/WnBPTKtg26wrPLT8","Enemy3");var n=cc.Enum({NONE:0,NORMAL:1,DEAD:2});cc.Class({"extends":cc.Component,properties:{blood:0,ySpeed:0,state:{"default":n.NONE,type:n,visible:!1},downAudio:cc.AudioClip},init:function(e){this.game=e,this.state=n.NORMAL,this.anim=this.getComponent(cc.Animation)},onCollisionEnter:function(e,t){if((200==e.tag||100==e.tag)&&(this.blood=this.blood-5,0==this.blood)){var i=parseInt(this.game.scoreLabel.string);i+=200,this.game.scoreLabel.string=""+i,this.getComponent(cc.BoxCollider).enabled=!1,this.state=n.DEAD,this.blood=200,this.anim.playAdditive("downAnimation3"),cc.audioEngine.play(this.downAudio);var o=function(){this.node.destroy()};this.scheduleOnce(o,3.33)}},update:function(e){this.state==n.NORMAL&&(this.node.y-=this.ySpeed*e)}}),cc._RFpop()},{}],EnemyManager:[function(e,t,i){"use strict";cc._RFpush(t,"d0ce7F8E2pCvrKv7ARBedD4","EnemyManager"),cc.Class({"extends":cc.Component,properties:{enemy1:cc.Prefab,enemy2:cc.Prefab,enemy3:cc.Prefab},init:function(e){this.game=e,this.enemyPool1=new cc.NodePool,this.enemyPool2=new cc.NodePool,this.enemyPool3=new cc.NodePool,cc.director.getScheduler().schedule(this.createEnemy,this,1,cc.macro.REPEAT_FOREVER["false"])},onCollsionEnter:function(e,t){10==e.tag?this.destoryEnemy1(e.node):20==e.tag?this.destoryEnemy2(e.node):30==e.tag&&this.destoryEnemy3(e.node)},createEnemy:function(){var e=null,t=null,i=null;e=0==this.enemyPool1.size()?cc.instantiate(this.enemy1):this.enemyPool1.get(),e.y=cc.winSize.height/2+e.height,e.x=e.width+(cc.winSize.width-2*e.width)*Math.random(),e.getComponent("Enemy1").init(this.game),this.node.addChild(e),Math.random()<.5&&(t=0==this.enemyPool2.size()?cc.instantiate(this.enemy2):this.enemyPool2.get(),t.y=cc.winSize.height/2+t.height,t.x=t.width+(cc.winSize.width-2*t.width)*Math.random(),t.getComponent("Enemy2").init(this.game),this.node.addChild(t)),Math.random()<.05&&(i=0==this.enemyPool3.size()?cc.instantiate(this.enemy3):this.enemyPool3.get(),i.y=cc.winSize.height/2+i.height,i.x=i.width+(cc.winSize.width-2*i.width)*Math.random(),i.getComponent("Enemy3").init(this.game),this.node.addChild(i))},destoryEnemy1:function(e){this.enemyPool1.put(e)},destoryEnemy2:function(e){this.enemyPool2.put(e)},destoryEnemy3:function(e){this.enemyPool3.put(e)}}),cc._RFpop()},{}],Game:[function(e,t,i){"use strict";cc._RFpush(t,"c2f8b1C579C8pw8aD8KDfJo","Game");var n=e("BulletManager"),o=e("EnemyManager"),s=e("Hero");cc.Class({"extends":cc.Component,properties:{bulletManager:n,enemyManager:o,hero:s,scoreLabel:cc.Label,overBg:cc.Node,bgMusic:cc.AudioClip},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.bulletManager.init(this),this.enemyManager.init(this),this.hero.init(this),this.bgId=cc.audioEngine.play(this.bgMusic,!0)},cancelMusic:function(){cc.audioEngine.stop(this.bgId)},restart:function(){this.overBg.active=!1,cc.director.loadScene("Main")}}),cc._RFpop()},{BulletManager:"BulletManager",EnemyManager:"EnemyManager",Hero:"Hero"}],Hero:[function(e,t,i){"use strict";cc._RFpush(t,"2c4bdF2EuRKmpumjB3tMNtY","Hero"),cc.Class({"extends":cc.Component,properties:{overAudio:cc.AudioClip},init:function(e){this.game=e,this.onDrag(),this.anim=this.node.getComponent(cc.Animation)},onDrag:function(){this.node.on("touchmove",this.dragMove,this)},offDrag:function(){this.node.off("touchmove",this.dragMove,this)},dragMove:function(e){var t=e.getLocation(),i=this.node.parent.convertToNodeSpaceAR(t),n=this.node.parent.width/2-this.node.width/2,o=-n,s=this.node.parent.height/2-this.node.height/2,c=-s;i.x<o&&(i.x=o),i.x>n&&(i.x=n),i.y<c&&(i.y=c),i.y>s&&(i.y=s),this.node.setPosition(i)},onCollisionEnter:function(e,t){if(10==e.tag||20==e.tag||30==e.tag){this.offDrag(),this.game.bulletManager.cancelShoot1(),this.game.cancelMusic(),this.node.getComponent(cc.BoxCollider).enabled=!1,cc.audioEngine.play(this.overAudio),this.anim.playAdditive("dieAnimation");var i=function(){this.game.overBg.active=!0,this.node.destroy()};this.scheduleOnce(i,.67)}}}),cc._RFpop()},{}]},{},["Bullet1","Bullet2","BulletManager","Enemy1","Enemy2","Enemy3","EnemyManager","Game","Hero"]);