require=function e(t,i,c){function a(s,n){if(!i[s]){if(!t[s]){var r="function"==typeof require&&require;if(!n&&r)return r(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return a(i?i:e)},h,h.exports,e,t,i,c)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<c.length;s++)a(c[s]);return a}({CameraManager2:[function(e,t,i){"use strict";cc._RFpush(t,"69cbbSv4q5J7qD9EQaOid3B","CameraManager2"),cc.Class({"extends":cc.Component,properties:{bgSky:cc.Node,skySca:0,bgHill:cc.Node,hillSca:0,bgHillnear:cc.Node,hillnearSca:0,bgFloor:cc.Node,floorSca:0,cloudLayer:cc.Node,cloudSca:0,camera:cc.Node,player:cc.Node},init:function(e){this.game=e},moveBg:function(e){this.player.y>this.camera.y+this.camera.height/2&&(this.bgSky.y-=e*this.skySca,this.bgHill.y-=e*this.hillSca,this.bgHillnear.y-=e*this.hillnearSca,this.bgFloor.y-=e*this.floorSca,this.cloudLayer.y-=e*this.cloudSca,this.player.y-=e,this.game.gainScore(Math.round(e/10)))}}),cc._RFpop()},{}],CameraManager:[function(e,t,i){"use strict";cc._RFpush(t,"c0fe4Iy83RFoodFJXbs6jUj","CameraManager"),cc.Class({"extends":cc.Component,properties:{far:cc.Node,farRelSpeed:0,faroffX:0,ground:cc.Node,groundRelSpeed:0,groundoffX:0,pipeLayer:cc.Node,layerRelSpeed:0},init:function(e){this.game=e,this.oFarX=this.far.x,this.oGroundX=this.ground.x},moveBg:function(e){this.far.x-=e*this.farRelSpeed,this.far.x<this.oFarX-this.faroffX&&(this.far.x=this.oFarX),this.ground.x-=e*this.groundRelSpeed,this.ground.x<this.oGroundX-this.groundoffX&&(this.ground.x=this.oGroundX),this.pipeLayer.x-=e*this.layerRelSpeed}}),cc._RFpop()},{}],Game2:[function(e,t,i){"use strict";cc._RFpush(t,"4b75e2ZICZEi6gQm+513j4q","Game2");var c=e("Player2"),a=e("CameraManager2"),o=e("PrefabManager2");cc.Class({"extends":cc.Component,properties:{player:c,prefabManager:o,cameraManager:a,scoreText:cc.Label,energyBar:cc.ProgressBar,gameOverMenu:cc.Node,bgmAudio:cc.AudioClip,overAudio:cc.AudioClip,scoreAudio:cc.AudioClip},onLoad:function(){cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){e==cc.KEY.back&&cc.director.loadScene("Menu")}},this.node),this.startGame()},startGame:function(){cc.director.getCollisionManager().enabled=!0,this.gameOverMenu.active=!1,this.score=0,this.level=0,this.scoreText.string="0m",this.player.init(this),this.cameraManager.init(this),this.prefabManager.init(this),this.playID=cc.audioEngine.play(this.bgmAudio)},stopGame:function(){cc.director.getCollisionManager().enabled=!1,this.gameOverMenu.getChildByName("ScoreLabel").getComponent(cc.Label).string=this.score+"m",this.gameOverMenu.active=!0,cc.audioEngine.stop(this.playID),cc.audioEngine.play(this.overAudio),cc.find("Record").getComponent("Record").updateJumpScore(this.score)},gainScore:function(e){this.scoreText.string=(this.score+=e)+"m",Math.round(this.score/200)>this.level&&(this.level++,this.level>5&&(this.player.xSpeedMax+=50))},gainEnergy:function(){cc.audioEngine.playEffect(this.energyAudio),this.energyBar.progress+=.1,this.energyBar.progress>=.9&&this.player.superJump(),cc.audioEngine.play(this.scoreAudio)},restartGame:function(){cc.director.loadScene("JumpGame")},returnMenu:function(){cc.director.loadScene("Menu")}}),cc._RFpop()},{CameraManager2:"CameraManager2",Player2:"Player2",PrefabManager2:"PrefabManager2"}],Game:[function(e,t,i){"use strict";cc._RFpush(t,"957702A1L5AYI93mZT+df9E","Game");var c=e("Player"),a=e("CameraManager"),o=e("PrefabManager");cc.Class({"extends":cc.Component,properties:{player:c,cameraManager:a,prefabManager:o,energyBar:cc.ProgressBar,scoreLabel:cc.Label,gameOverMenu:cc.Node,overScore:cc.Label,bgmAudio:cc.AudioClip,scoreAudio:cc.AudioClip,overAudio:cc.AudioClip},onLoad:function(){cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){e==cc.KEY.back&&cc.director.loadScene("Menu")}},this.node),this.startGame()},startGame:function(){cc.director.getCollisionManager().enabled=!0,this.energyBar.progress=0,this.score=0,this.scoreLabel.string="0m",this.cameraManager.init(this),this.prefabManager.init(this),this.player.init(this),this.playID=cc.audioEngine.play(this.bgmAudio,!0)},stopGame:function(){cc.director.getCollisionManager().enabled=!1,this.gameOverMenu.active=!0,this.overScore.string=this.score+"m",cc.audioEngine.stop(this.playID),cc.audioEngine.play(this.overAudio),cc.find("Record").getComponent("Record").updateRunScore(this.score)},gainScore:function(){this.score+=10,this.scoreLabel.string=this.score+"m"},gainEnergy:function(){this.energyBar.progress+=.1,this.energyBar.progress>.9&&this.player.strengthen(),cc.audioEngine.play(this.scoreAudio)},restartGame:function(){cc.director.loadScene("RunGame")},returnMenu:function(){cc.director.loadScene("Menu")}}),cc._RFpop()},{CameraManager:"CameraManager",Player:"Player",PrefabManager:"PrefabManager"}],Load:[function(e,t,i){"use strict";cc._RFpush(t,"2d1a415MRVL06Thfv2W0r10","Load"),cc.Class({"extends":cc.Component,properties:{loadBar:cc.ProgressBar},onLoad:function(){cc.director.preloadScene("Menu"),cc.director.preloadScene("RunGame"),cc.director.preloadScene("JumpGame");var e=function t(){this.loadBar.progress+=.1,this.loadBar.progress>.9&&(cc.director.loadScene("Menu"),this.unschedule(t,this))};this.schedule(e,.6)}}),cc._RFpop()},{}],Menu:[function(e,t,i){"use strict";cc._RFpush(t,"a9662Qvd81O8KOT0wjL0kAv","Menu"),cc.Class({"extends":cc.Component,properties:{tipsLabel:cc.Label,labelString:{type:cc.String,"default":[]},runScore:cc.Label,jumpScore:cc.Label,pageView:cc.PageView,content:cc.Layout,pageRun:cc.Node,pageJump:cc.Node,bgm:cc.AudioClip},onLoad:function(){var e=this,t=function(){if(e.labelString.length>0){var t=Math.round(Math.random()*(e.labelString.length-1));e.tipsLabel.string=e.labelString[t]}};t(),this.schedule(t,3),this.playBGM=!1,cc.audioEngine.playMusic("cwt_w.mp3",!0),this.record=cc.find("Record").getComponent("Record"),this.runScore.string="你最远跑了"+this.record.bestRunScore+"m",this.jumpScore.string="你最高跳了"+this.record.bestJumpScore+"m"},playBtn1:function(){cc.director.loadScene("RunGame"),this.playBGM&&(cc.audioEngine.pause(this.playId),this.playBGM=!1)},playBtn2:function(){cc.director.loadScene("JumpGame"),this.playBGM&&(cc.audioEngine.pause(this.playId),this.playBGM=!1)},musicBtn:function(){this.playBGM=!this.playBGM,this.playBGM?this.playId=cc.audioEngine.play(this.bgm,!0):cc.audioEngine.pause(this.playId)}}),cc._RFpop()},{}],MoveCloud:[function(e,t,i){"use strict";cc._RFpush(t,"4e6efcgnURNdK4mezOULqD6","MoveCloud"),cc.Class({"extends":cc.Component,properties:{moveSpeed:0},update:function(e){this.node.x+=this.moveSpeed*e,(this.node.x<-cc.winSize.width/2+this.node.width/2||this.node.x>cc.winSize.width/2-this.node.width/2)&&(this.moveSpeed=-this.moveSpeed,this.node.scaleX=-this.node.scaleX)}}),cc._RFpop()},{}],Player2:[function(e,t,i){"use strict";cc._RFpush(t,"26751Ud/QFIKZ0x9F0uLdCY","Player2");var c=cc.Enum({JUMP:0,DROP:1,DEAD:2,SUPERJUMP:3});cc.Class({"extends":cc.Component,properties:{xSpeedMax:0,jumpSpeed:0,gravity:0,groundY:0,superAudio:cc.AudioClip,jumpAudio:cc.AudioClip,dieAudio:cc.AudioClip,brokenAudio:cc.AudioClip},init:function(e){this.game=e,this.speedX=0,this.speedY=this.jumpSpeed,this.botPos=this.groundY,this.moveFlag=!0,this.state=c.JUMP;var t=this;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,i){var c=e.getLocation();return c.x>=cc.winSize.width/2?(t.speedX=t.xSpeedMax,t.node.scaleX=1):(t.speedX=-t.xSpeedMax,t.node.scaleX=-1),!0},onTouchEnded:function(e,t){}},t.node),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.left:t.node.scaleX=-1,t.speedX=-t.xSpeedMax;break;case cc.KEY.right:t.node.scaleX=1,t.speedX=t.xSpeedMax}},onKeyReleased:function(e,t){}},t.node),this.superJump()},onCollisionEnter:function(e,t){444===e.tag&&(cc.audioEngine.play(this.dieAudio),this.state=c.DEAD,this.node.color=cc.Color.BLACK,this.game.stopGame()),666===e.tag?(this.game.prefabManager.desPrefab(e.node,e.tag),this.game.gainEnergy()):this.state===c.DROP&&(this.jump(),222===e.tag&&(this.game.prefabManager.desPrefab(e.node,e.tag),this.game.prefabManager.addPrefab(),cc.audioEngine.play(this.brokenAudio)))},jump:function(){this.state=c.JUMP,this.speedY=this.jumpSpeed,cc.audioEngine.play(this.jumpAudio)},superJump:function(){this.state=c.SUPERJUMP,this.node.color=cc.Color.RED,this.speedY=2*this.jumpSpeed,cc.audioEngine.play(this.superAudio)},update:function(e){this.state!==c.DEAD&&(this.node.x+=this.speedX*e,this.node.x<-cc.winSize.width/2&&(this.node.x=cc.winSize.width/2),this.node.x>cc.winSize.width/2&&(this.node.x=-cc.winSize.width/2),this.speedY-=this.gravity*e,this.node.y+=this.speedY*e,this.speedY<0&&(this.state==c.SUPERJUMP&&(this.game.energyBar.progress=0,this.node.color=cc.Color.WHITE),this.state=c.DROP),this.game.cameraManager.moveBg(this.speedY*e))}}),cc._RFpop()},{}],Player:[function(e,t,i){"use strict";cc._RFpush(t,"b3f44H5xqZMK7tGObPtTG5C","Player");var c=cc.Enum({NONE:0,NORMAL:1,SUPER:2,DEAD:3});cc.Class({"extends":cc.Component,properties:{oSpeedX:0,superSpeedX:0,gravity:0,jumpSpeed:0,groundY:0,state:{"default":c.NONE,type:c,visible:!1},superAudio:cc.AudioClip,jumpAudio:cc.AudioClip,dieAudio:cc.AudioClip},init:function(e){this.game=e,this.speedY=0,this.speedX=this.oSpeedX,this.state=c.NORMAL,this.registerInput()},onCollisionEnter:function(e,t){this.state==c.NORMAL&&(666==e.tag&&(this.game.gainEnergy(),this.game.prefabManager.desStar(e.node)),3331==e.tag&&(this.die(),cc.audioEngine.playMusic(this.game.overAudio)))},onCollisionExit:function(e,t){333==e.tag&&this.game.gainScore()},registerInput:function(){var e=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,i){t==cc.KEY.back?cc.director.loadScene("Menu"):e.jump()}},e.node),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,i){e.jump()}},e.node)},jump:function(){this.speedY=this.jumpSpeed,cc.audioEngine.play(this.jumpAudio)},strengthen:function(){this.state=c.SUPER,this.node.color=cc.Color.RED,this.speedX=this.superSpeedX;var e=this,t=function(){e.speedX=e.oSpeedX};cc.audioEngine.play(this.superAudio),this.scheduleOnce(t,5),this.scheduleOnce(this.recover,5)},recover:function(){this.state=c.NORMAL,this.node.color=cc.Color.WHITE,this.oSpeedX+=10,this.speedX=this.oSpeedX,this.game.energyBar.progress=0},die:function(){cc.audioEngine.play(this.dieAudio),this.state=c.DEAD,this.node.color=cc.Color.BLACK,this.game.stopGame()},update:function(e){this.state!=c.NONE&&this.state!=c.DEAD&&(this.speedY-=this.gravity*e,this.node.y+=this.speedY*e,this.node.y<=this.groundY&&(this.node.y=this.groundY),this.game.cameraManager.moveBg(this.speedX*e))}}),cc._RFpop()},{}],PrefabManager2:[function(e,t,i){"use strict";cc._RFpush(t,"6827bafZDBBZ4twYxvEE8PO","PrefabManager2"),cc.Class({"extends":cc.Component,properties:{cloudLayer:cc.Node,player:cc.Node,cloudPre:{type:cc.Prefab,"default":[]},cloudSpace:0,starPre:{type:cc.Prefab,"default":null}},init:function(t){this.game=t,this.lastCloudY=-500,this.cloudPoolSet=[];for(var i=0;i<this.cloudPre.length;i++){this.cloudPoolSet[i]=new cc.NodePool(e("Game2"));for(var c=0;c<7;c++)this.cloudPoolSet[i].put(cc.instantiate(this.cloudPre[i]))}this.starPool=new cc.NodePool(e("Game2"));for(var a=0;a<10;a++){var o=cc.instantiate(this.starPre);this.starPool.put(o)}for(var s=0;s<7;s++)this.addPrefab();cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){111!==e.tag&&222!==e.tag&&333!==e.tag||(this.desPrefab(e.node,e.tag),this.addPrefab()),666===e.tag&&this.desPrefab(e.node,e.tag)},addPrefab:function(){var e,t;switch(this.game.level){case 0:e=this.cloudPoolSet[0].get();break;case 1:t=Math.round(1*Math.random()),e=this.cloudPoolSet[t].get();break;case 2:t=Math.round(2*Math.random()),e=this.cloudPoolSet[t].get();break;case 3:t=Math.round(2*Math.random()),e=this.cloudPoolSet[t].get();break;case 4:t=Math.round(2*Math.random()),e=this.cloudPoolSet[t].get();break;default:t=Math.round(2*Math.random()),e=this.cloudPoolSet[t].get()}if(null!==e&&(this.cloudLayer.addChild(e),e.x=-cc.winSize.width/2+e.width/2+Math.random()*(cc.winSize.width-e.width),this.lastCloudY=e.y=this.lastCloudY+this.cloudSpace,Math.random()<.7)){var i=this.starPool.get();if(null===i)return;this.cloudLayer.addChild(i),i.x=-cc.winSize.width/2+e.width/2+Math.random()*(cc.winSize.width-e.width),i.y=e.y+this.cloudSpace/2}},desPrefab:function(e,t){switch(t){case 111:this.cloudPoolSet[0].put(e);break;case 222:this.cloudPoolSet[1].put(e);break;case 333:this.cloudPoolSet[2].put(e);break;case 666:this.starPool.put(e)}}}),cc._RFpop()},{Game2:"Game2"}],PrefabManager:[function(e,t,i){"use strict";cc._RFpush(t,"5fc08TdvGNPAbc1sH4C3LLt","PrefabManager"),cc.Class({"extends":cc.Component,properties:{pipeGroupPre:cc.Prefab,starPre:cc.Prefab,pipeLayer:cc.Node,spacingRange:cc.p(0,0),botYRange:cc.p(0,0),pipeSpace:0,oPipeX:0,starYRange:cc.p(0,0)},init:function(e){this.game=e,this.pipePool=new cc.NodePool,this.starPool=new cc.NodePool;for(var t=0;t<4;t++)this.pipePool.put(cc.instantiate(this.pipeGroupPre)),this.starPool.put(cc.instantiate(this.starPre));this.curPipeX=this.oPipeX,this.spawnPipe(),this.spawnPipe(),cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){333===e.tag?this.desPipe(e.node):666===e.tag&&this.desStar(e.node)},spawnPipe:function(){var e=this.pipePool.get(),t=e.getChildByName("pipeTop"),i=e.getChildByName("pipeBottom"),c=this.botYRange.x+Math.random()*(this.botYRange.y-this.botYRange.x),a=this.spacingRange.x+Math.random()*(this.spacingRange.y-this.spacingRange.x),o=c+a;t.y=o,i.y=c,e.x=this.curPipeX,this.pipeLayer.addChild(e),this.spawnStar(),this.curPipeX+=this.pipeSpace},desPipe:function(e){this.pipePool.put(e),this.spawnPipe()},spawnStar:function(){if(Math.random()<.8){var e=this.starPool.get();e.y=this.starYRange.x+Math.random()*(this.starYRange.y-this.starYRange.x),e.x=this.curPipeX+this.pipeSpace/2,this.pipeLayer.addChild(e)}},desStar:function(e){this.starPool.put(e)}}),cc._RFpop()},{}],Record:[function(e,t,i){"use strict";cc._RFpush(t,"cbecedM+SRKzKFOsGU6l/PJ","Record"),cc.Class({"extends":cc.Component,properties:{bestRunScore:0,bestJumpScore:0},onLoad:function(){cc.game.addPersistRootNode(this.node);var e=cc.sys.localStorage.getItem("bestRunScore");e&&(this.bestRunScore=e);var t=cc.sys.localStorage.getItem("bestJumpScore");t&&(this.bestJumpScore=t)},updateRunScore:function(e){e>this.bestRunScore&&(this.bestRunScore=e)},updateJumpScore:function(e){e>this.bestJumpScore&&(this.bestJumpScore=e)},save:function(){cc.sys.localStorage.setItem("bestRunScore",this.bestRunScore),cc.sys.localStorage.setItem("bestJumpScore",this.bestJumpScore)}}),cc._RFpop()},{}]},{},["CameraManager2","Game2","MoveCloud","Player2","PrefabManager2","Load","Record","Menu","CameraManager","Game","Player","PrefabManager"]);